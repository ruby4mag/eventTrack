<h1>Products</h1>

<table  id="products" class="display pretty" data-source="<%= products_url(format: "json") %>">
  <thead>
    <tr>
      <th>Product Name</th>
      <th>Category</th>
      <th>Release Date</th>
      <th>Price</th>
      <th>Action</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>


<script>
$(document).ready(function() {
var otable= $("#products").DataTable({
"fnDrawCallback": function( oSettings ) {
    prettyPhotoLoad();
    },
     "bJQueryUI":true,
      "bSort":true,
      "bSortClasses": false,
      "bPaginate":true,
      "bProcessing": false,
      "bServerSide": true,
      "sPaginationType":"full_numbers",
      "sAjaxSource": 'http://localhost:3000/products.json',
      "asStripeClasses": [ '' ]
});

setInterval( function () {
    otable.ajax.reload();
}, 1000000 );


    prettyPhotoLoad();
});


function prettyPhotoLoad()
{
     // apply prettyPhoto plugin for video previews
     $("a[rel^='prettyPhoto']").prettyPhoto({social_tools: false,deeplinking: false});    
}

</script>

